# 7장. 람다와 스트림

# 아이템 42. 익명 클래스보다는 람다를 사용하라

익명클래스 : 함수 객체를 만드는 주요 수단.

객체 : 특정 함수나 동작을 나타낸다.

람다식 : 함수형 인터페이스의 발전

람다식을 쓰지 말아야 하는 부분

- 코드 자체로 동작이 명확히 설명되지 않거나 코드 줄 수가 많아지면 람다를 쓰지 말아야 한다.
- 세줄을 넘어가면 가독성이 심하게 나빠진다.
- 직렬화를 해야하는 상황

# 아이템 43. 람다보다는 메서드 참조를 사용하라

람다의 장점 : 간결함

메서드 참조 : 람다보다도 더 간결하게 만드는 방법

merge : 키, 값, 함수를 인수로 받으며 주어진 키가 맵 안에 아직 없다면 주어진 (키,값) 쌍으로 그대로 저장한다. 반대로 키가 이미 있다면 (세번째 인수로 받은) 함수를 현재 값과 주어진 값에 적용한 다음, 그 결과로 현재 값을 덮어쓴다.

merge 에 메서드 참조를 쓰는 방법 → map.merge(key,1,Integer::sum);

람다로 구현했을 때 너무 길거나 복잡하다면 메서드 참조가 좋은 대안이 되어준다.

즉, 람다로 작성할 코드를 새로운 메서드에 담은 다음, 람다 대신 그 메서드 참조를 사용하는 식이다.

![7%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7%207e1dcacbc726407bb2412cdb0066b095/Untitled.png](7%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7%207e1dcacbc726407bb2412cdb0066b095/Untitled.png)

# 아이템 44. 표준 함수형 인터페이스를 사용하라

입력값과 반환값에 함수형 인터페이스 타입을 활용하라.

보통은 jaba.util.function 패키지의 표준 함수형 인터페이스를 사용하는 것이 가장 좋은 선택이다.

직접 만드 함수형 인터페이스에는 항상 @FunctionalInterface 어노테이션을 사용하라. 

# 아이템 45. 스트림은 주의해서 사용하라

스트림(Stream) : 데이터 원소의 유한 혹은 무한 시퀀스를 뜻한다.

- char 값들을 처리할 때는 스트림을 삼가하는 편이다.

스트림이 늘 좋은 건 아니다.

반복 방식이 더 알맞은 일도 있다. 주의해서 사용해야 한다.

# 아이템 46. 스트림에서는 부작용 없는 함수를 사용하라

모든 함수 객체에는 부작용이 없어야 한다.

forEach 연산에서는 계산 결과를 보고할 때 외에는 쓰지말자. 

스트림과 쓰면 좋은 수집기 함수들 : toList, toSet, toMap, groupingBy, joining

# 아이템 47. 반환 타입으로는 스트림보다 컬렉션이 낫다.

반환은 ArrayList 와 같은 표준 컬렉션에 담아 반환하라.

# 아이템 48. 스트림 병렬화는 주의해서 적용하라

병렬화는 절대 사용하지마라.